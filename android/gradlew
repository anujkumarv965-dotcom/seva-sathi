#!/usr/bin/env sh

# -----------------------------------------------------------
# Working gradlew script for GitHub Actions (UNIX shell)
# -----------------------------------------------------------

APP_HOME=$(cd "$(dirname "$0")"; pwd)

DEFAULT_JVM_OPTS=""
JAVA_EXE="java"

# If JAVA_HOME exists, use it
if [ -n "$JAVA_HOME" ] ; then
  JAVA_EXE="$JAVA_HOME/bin/java"
fi

# Check that Java really exists
if ! command -v "$JAVA_EXE" >/dev/null 2>&1 ; then
  echo "ERROR: Java not found."
  exit 1
fi

# Run Gradle Wrapper
exec "$JAVA_EXE" \
  $DEFAULT_JVM_OPTS \
  -Dorg.gradle.appname=gradlew \
  -classpath "$APP_HOME/gradle/wrapper/gradle-wrapper.jar" \
  org.gradle.wrapper.GradleWrapperMain "$@"
